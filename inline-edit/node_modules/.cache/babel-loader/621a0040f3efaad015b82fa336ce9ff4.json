{"ast":null,"code":"import { useState } from 'react';\nimport { BASE_PATH, SECRET, ERROR_MESSAGE } from '../constants';\n\nconst useSubmit = () => {\n  const [loading, setIsLoading] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(null);\n  const [error, setError] = useState(null);\n\n  const handleBlur = async e => {\n    const {\n      value\n    } = e.target;\n\n    const submitInputValue = async () => {\n      setIsLoading(true);\n      await fetch(BASE_PATH, {\n        method: 'POST',\n        body: JSON.stringify({\n          input: value\n        })\n      });\n      setIsLoading(false);\n    };\n\n    const handleSuccess = () => {\n      submitInputValue();\n      setIsSuccess(true);\n      setError(false);\n    };\n\n    const handleFailure = () => {\n      submitInputValue();\n      setIsSuccess(false);\n      setError(ERROR_MESSAGE);\n    };\n\n    if (value === SECRET) {\n      handleSuccess();\n    } else {\n      handleFailure();\n    }\n  };\n\n  return {\n    loading,\n    isSuccess,\n    error,\n    handleBlur\n  };\n};\n\nexport default useSubmit;","map":{"version":3,"sources":["/Users/maciejkurek/Desktop/DEV/coyote-ui-interview/inline-edit/src/hooks/useSubmit.js"],"names":["useState","BASE_PATH","SECRET","ERROR_MESSAGE","useSubmit","loading","setIsLoading","isSuccess","setIsSuccess","error","setError","handleBlur","e","value","target","submitInputValue","fetch","method","body","JSON","stringify","input","handleSuccess","handleFailure"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,aAA5B,QAAiD,cAAjD;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACtB,QAAM,CAACC,OAAD,EAAUC,YAAV,IAA0BN,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;;AAEA,QAAMW,UAAU,GAAG,MAAOC,CAAP,IAAa;AAC9B,UAAM;AAAEC,MAAAA;AAAF,QAAYD,CAAC,CAACE,MAApB;;AAEA,UAAMC,gBAAgB,GAAG,YAAY;AACnCT,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,YAAMU,KAAK,CAACf,SAAD,EAAY;AACrBgB,QAAAA,MAAM,EAAE,MADa;AAErBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,UAAAA,KAAK,EAAER;AAAT,SAAf;AAFe,OAAZ,CAAX;AAKAP,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KARD;;AAUA,UAAMgB,aAAa,GAAG,MAAM;AAC1BP,MAAAA,gBAAgB;AAEhBP,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,KALD;;AAOA,UAAMa,aAAa,GAAG,MAAM;AAC1BR,MAAAA,gBAAgB;AAEhBP,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,MAAAA,QAAQ,CAACP,aAAD,CAAR;AACD,KALD;;AAOA,QAAIU,KAAK,KAAKX,MAAd,EAAsB;AACpBoB,MAAAA,aAAa;AACd,KAFD,MAEO;AACLC,MAAAA,aAAa;AACd;AACF,GAhCD;;AAkCA,SAAO;AAAElB,IAAAA,OAAF;AAAWE,IAAAA,SAAX;AAAsBE,IAAAA,KAAtB;AAA6BE,IAAAA;AAA7B,GAAP;AACD,CAxCD;;AA0CA,eAAeP,SAAf","sourcesContent":["import { useState } from 'react';\nimport { BASE_PATH, SECRET, ERROR_MESSAGE } from '../constants';\n\nconst useSubmit = () => {\n  const [loading, setIsLoading] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(null);\n  const [error, setError] = useState(null);\n\n  const handleBlur = async (e) => {\n    const { value } = e.target;\n\n    const submitInputValue = async () => {\n      setIsLoading(true);\n      await fetch(BASE_PATH, {\n        method: 'POST',\n        body: JSON.stringify({ input: value }),\n      });\n\n      setIsLoading(false);\n    };\n\n    const handleSuccess = () => {\n      submitInputValue();\n\n      setIsSuccess(true);\n      setError(false);\n    };\n\n    const handleFailure = () => {\n      submitInputValue();\n\n      setIsSuccess(false);\n      setError(ERROR_MESSAGE);\n    };\n\n    if (value === SECRET) {\n      handleSuccess();\n    } else {\n      handleFailure();\n    }\n  };\n\n  return { loading, isSuccess, error, handleBlur };\n};\n\nexport default useSubmit;\n"]},"metadata":{},"sourceType":"module"}